(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{7661:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/music",function(){return n(1263)}])},1263:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var r=n(5893),o=n(9008),a=n.n(o),s=n(5675),u=n.n(s),c=n(7294);if(!l)var l={map:function(t,e){var n={};return e?t.map((function(t,r){return n.index=r,e.call(n,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,r,i){return n.index=i,t+e.call(n,r)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?l.map(t,e):t)}};var h=function(){function t(t,e,n){return(t<<10)+(e<<5)+n}function e(t){var e=[],n=!1;function r(){e.sort(t),n=!0}return{push:function(t){e.push(t),n=!1},peek:function(t){return n||r(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return n||r(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return n||r(),e}}}function n(t,e,n,r,i,o,a){this.r1=t,this.r2=e,this.g1=n,this.g2=r,this.b1=i,this.b2=o,this.histo=a}function r(){this.vboxes=new e((function(t,e){return l.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function i(e,n){if(n.count()){var r=n.r2-n.r1+1,i=n.g2-n.g1+1,o=l.max([r,i,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var a,s,u,c,h=0,f=[],v=[];if(o==r)for(a=n.r1;a<=n.r2;a++){for(c=0,s=n.g1;s<=n.g2;s++)for(u=n.b1;u<=n.b2;u++)c+=e[t(a,s,u)]||0;f[a]=h+=c}else if(o==i)for(a=n.g1;a<=n.g2;a++){for(c=0,s=n.r1;s<=n.r2;s++)for(u=n.b1;u<=n.b2;u++)c+=e[t(s,a,u)]||0;f[a]=h+=c}else for(a=n.b1;a<=n.b2;a++){for(c=0,s=n.r1;s<=n.r2;s++)for(u=n.g1;u<=n.g2;u++)c+=e[t(s,u,a)]||0;f[a]=h+=c}return f.forEach((function(t,e){v[e]=h-t})),function(t){var e,r,i,o,s,u=t+"1",c=t+"2",l=0;for(a=n[u];a<=n[c];a++)if(f[a]>h/2){for(i=n.copy(),o=n.copy(),s=(e=a-n[u])<=(r=n[c]-a)?Math.min(n[c]-1,~~(a+r/2)):Math.max(n[u],~~(a-1-e/2));!f[s];)s++;for(l=v[s];!l&&f[s-1];)l=v[--s];return i[c]=s,o[u]=i[c]+1,[i,o]}}(o==r?"r":o==i?"g":"b")}}return n.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(e){var n=this.histo;if(!this._count_set||e){var r,i,o,a=0;for(r=this.r1;r<=this.r2;r++)for(i=this.g1;i<=this.g2;i++)for(o=this.b1;o<=this.b2;o++)a+=n[t(r,i,o)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new n(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var n=this.histo;if(!this._avg||e){var r,i,o,a,s=0,u=0,c=0,l=0;for(i=this.r1;i<=this.r2;i++)for(o=this.g1;o<=this.g2;o++)for(a=this.b1;a<=this.b2;a++)s+=r=n[t(i,o,a)]||0,u+=r*(i+.5)*8,c+=r*(o+.5)*8,l+=r*(a+.5)*8;this._avg=s?[~~(u/s),~~(c/s),~~(l/s)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var e=t[0]>>3;return gval=t[1]>>3,bval=t[2]>>3,e>=this.r1&&e<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},r.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,r,i=this.vboxes,o=0;o<i.size();o++)((n=Math.sqrt(Math.pow(t[0]-i.peek(o).color[0],2)+Math.pow(t[1]-i.peek(o).color[1],2)+Math.pow(t[2]-i.peek(o).color[2],2)))<e||void 0===e)&&(e=n,r=i.peek(o).color);return r},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return l.naturalOrder(l.sum(t.color),l.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,r=t[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(t[n].color=[255,255,255])}},{quantize:function(o,a){if(!o.length||a<2||a>256)return!1;var s=function(e){var n,r=new Array(32768);return e.forEach((function(e){n=t(e[0]>>3,e[1]>>3,e[2]>>3),r[n]=(r[n]||0)+1})),r}(o);s.forEach((function(){}));var u=function(t,e){var r,i,o,a=1e6,s=0,u=1e6,c=0,l=1e6,h=0;return t.forEach((function(t){(r=t[0]>>3)<a?a=r:r>s&&(s=r),(i=t[1]>>3)<u?u=i:i>c&&(c=i),(o=t[2]>>3)<l?l=o:o>h&&(h=o)})),new n(a,s,u,c,l,h,e)}(o,s),c=new e((function(t,e){return l.naturalOrder(t.count(),e.count())}));function h(t,e){for(var n,r=t.size(),o=0;o<1e3;){if(r>=e)return;if(o++>1e3)return;if((n=t.pop()).count()){var a=i(s,n),u=a[0],c=a[1];if(!u)return;t.push(u),c&&(t.push(c),r++)}else t.push(n),o++}}c.push(u),h(c,.75*a);for(var f=new e((function(t,e){return l.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));c.size();)f.push(c.pop());h(f,a);for(var v=new r;f.size();)v.push(f.pop());return v}}}().quantize,f=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};f.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var v=function(){};v.prototype.getColor=function(t,e){return void 0===e&&(e=10),this.getPalette(t,5,e)[0]},v.prototype.getPalette=function(t,e,n){var r=function(t){var e=t.colorCount,n=t.quality;if(void 0!==e&&Number.isInteger(e)){if(1===e)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");e=Math.max(e,2),e=Math.min(e,20)}else e=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:e,quality:n}}({colorCount:e,quality:n}),i=new f(t),o=function(t,e,n){for(var r=t,i=[],o=0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0;o<e;o+=n)s=r[0+(a=4*o)],u=r[a+1],c=r[a+2],(void 0===(l=r[a+3])||l>=125)&&(s>250&&u>250&&c>250||i.push([s,u,c]));return i}(i.getImageData().data,i.width*i.height,r.quality),a=h(o,r.colorCount);return a?a.palette():null},v.prototype.getColorFromUrl=function(t,e,n){var r=this,i=document.createElement("img");i.addEventListener("load",(function(){var o=r.getPalette(i,5,n);e(o[0],t)})),i.src=t},v.prototype.getImageData=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var n=new Array(i),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);var o=n.join(""),a=window.btoa(o);e("data:image/png;base64,"+a)}},n.send()},v.prototype.getColorAsync=function(t,e,n){var r=this;this.getImageData(t,(function(t){var i=document.createElement("img");i.addEventListener("load",(function(){var t=r.getPalette(i,5,n);e(t[0],this)})),i.src=t}))};var g=v,d=function(){return(0,r.jsx)("div",{className:"flex items-center justify-center w-full h-full overflow-hidden rounded-full shadow-[0_0_25px_5px_rgba(0,0,0,0.5)] bg-gradient-to-tl from-black via-black/80 to-black animate-spin-slow ",children:(0,r.jsx)("div",{className:"w-1/3 min-w-[50px] min-h-[50px] bg-blue-400 border-2 border-white border-dashed rounded-full h-1/3 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-2 h-2 bg-black rounded-full"})})})},m=function(){var t=[{image:"/assets/image/ch2/music/iu_0.jpg"},{image:"/assets/image/ch2/music/iu_1.jpg"},{image:"/assets/image/ch2/music/iu_2.jpg"},{image:"/assets/image/ch2/music/iu_3.jpg"},{image:"/assets/image/ch2/music/iu_4.jpg"}],e=(0,c.useRef)(null),n=(0,c.useState)(0),i=n[0],o=n[1];(0,c.useEffect)((function(){if(e.current){var t=e.current.getElementsByClassName("active")[0].getElementsByTagName("img")[0];if(t){var n=(new g).getPalette(t,2);n&&(e.current.getElementsByTagName("section")[i].style.background="linear-gradient(120deg,".concat(n.map((function(t){return"#".concat(t.map((function(t){return t.toString(16)})).join(""))})).join(","),")"))}}}));var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prev",n="prev"===e?i-1:i+1;o(n%t.length<0?t.length-1:n%t.length)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"music"})}),(0,r.jsxs)("div",{ref:e,className:"relative",children:[t.map((function(t,e){return(0,r.jsx)("section",{className:"fixed w-full h-screen overflow-hidden text-black duration-300 pr-16 ".concat(e===i?"active":"opacity-0"),children:(0,r.jsx)("div",{className:"relative flex flex-col items-center justify-center h-full ",children:(0,r.jsxs)("div",{className:"relative md:w-[400px] md:h-[400px] w-[250px] h-[250px] box-border group z-[100]",children:[(0,r.jsx)("div",{className:"absolute z-1 md:w-[400px] md:h-[400px] w-[250px] h-[250px]",children:(0,r.jsx)(u(),{src:t.image,layout:"fill",className:"z-10 img",priority:!0})}),(0,r.jsx)("div",{className:"absolute w-full h-full duration-700 group-hover:translate-x-[60%] delay-100 ".concat(e===i?"translate-x-[45%]":""),children:(0,r.jsx)(d,{})})]})})},e)})),(0,r.jsxs)("div",{className:"fixed bottom-[10%] pr-16 w-full text-center ",children:[(0,r.jsx)("button",{className:"music-btn",onClick:function(){return s("prev")},children:"PREV"}),(0,r.jsx)("ul",{className:"relative inline-block h-full text-center text-black ",children:t.map((function(t,e){return(0,r.jsx)("li",{className:"relative  inline-block w-[10px] h-[10px] my-auto md:mx-2 mx-1  text-center rounded-full duration-300 ease-out \n                      cursor-pointer\n                      ".concat(e===i?"bg-black/90":"bg-black/30"),onClick:function(){return o(e)},children:(0,r.jsx)("span",{className:"hidden",children:"1"})},e)}))}),(0,r.jsx)("button",{className:"music-btn",onClick:function(){return s("next")},children:"NEXT"})]})]})]})}}},function(t){t.O(0,[675,774,888,179],(function(){return e=7661,t(t.s=e);var e}));var e=t.O();_N_E=e}]);
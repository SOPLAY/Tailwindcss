(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{7661:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/music",function(){return e(1263)}])},1263:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return m}});var n=e(5893),o=e(9008),u=e.n(o),a=e(5675),s=e.n(a),c=e(7294);if(!h)var h={map:function(t,r){var e={};return r?t.map((function(t,n){return e.index=n,r.call(e,t)})):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,r){var e={};return t.reduce(r?function(t,n,o){return e.index=o,t+r.call(e,n)}:function(t,r){return t+r},0)},max:function(t,r){return Math.max.apply(null,r?h.map(t,r):t)}};var l=function(){function t(t,r,e){return(t<<10)+(r<<5)+e}function r(t){var r=[],e=!1;function n(){r.sort(t),e=!0}return{push:function(t){r.push(t),e=!1},peek:function(t){return e||n(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return e||n(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return e||n(),r}}}function e(t,r,e,n,o,i,u){this.r1=t,this.r2=r,this.g1=e,this.g2=n,this.b1=o,this.b2=i,this.histo=u}function n(){this.vboxes=new r((function(t,r){return h.naturalOrder(t.vbox.count()*t.vbox.volume(),r.vbox.count()*r.vbox.volume())}))}function o(r,e){if(e.count()){var n=e.r2-e.r1+1,o=e.g2-e.g1+1,i=h.max([n,o,e.b2-e.b1+1]);if(1==e.count())return[e.copy()];var u,a,s,c,l=0,f=[],v=[];if(i==n)for(u=e.r1;u<=e.r2;u++){for(c=0,a=e.g1;a<=e.g2;a++)for(s=e.b1;s<=e.b2;s++)c+=r[t(u,a,s)]||0;f[u]=l+=c}else if(i==o)for(u=e.g1;u<=e.g2;u++){for(c=0,a=e.r1;a<=e.r2;a++)for(s=e.b1;s<=e.b2;s++)c+=r[t(a,u,s)]||0;f[u]=l+=c}else for(u=e.b1;u<=e.b2;u++){for(c=0,a=e.r1;a<=e.r2;a++)for(s=e.g1;s<=e.g2;s++)c+=r[t(a,s,u)]||0;f[u]=l+=c}return f.forEach((function(t,r){v[r]=l-t})),function(t){var r,n,o,i,a,s=t+"1",c=t+"2",h=0;for(u=e[s];u<=e[c];u++)if(f[u]>l/2){for(o=e.copy(),i=e.copy(),a=(r=u-e[s])<=(n=e[c]-u)?Math.min(e[c]-1,~~(u+n/2)):Math.max(e[s],~~(u-1-r/2));!f[a];)a++;for(h=v[a];!h&&f[a-1];)h=v[--a];return o[c]=a,i[s]=o[c]+1,[o,i]}}(i==n?"r":i==o?"g":"b")}}return e.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(r){var e=this.histo;if(!this._count_set||r){var n,o,i,u=0;for(n=this.r1;n<=this.r2;n++)for(o=this.g1;o<=this.g2;o++)for(i=this.b1;i<=this.b2;i++)u+=e[t(n,o,i)]||0;this._count=u,this._count_set=!0}return this._count},copy:function(){return new e(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(r){var e=this.histo;if(!this._avg||r){var n,o,i,u,a=0,s=0,c=0,h=0;for(o=this.r1;o<=this.r2;o++)for(i=this.g1;i<=this.g2;i++)for(u=this.b1;u<=this.b2;u++)a+=n=e[t(o,i,u)]||0,s+=n*(o+.5)*8,c+=n*(i+.5)*8,h+=n*(u+.5)*8;this._avg=a?[~~(s/a),~~(c/a),~~(h/a)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var r=t[0]>>3;return gval=t[1]>>3,bval=t[2]>>3,r>=this.r1&&r<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},n.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,e=0;e<r.size();e++)if(r.peek(e).vbox.contains(t))return r.peek(e).color;return this.nearest(t)},nearest:function(t){for(var r,e,n,o=this.vboxes,i=0;i<o.size();i++)((e=Math.sqrt(Math.pow(t[0]-o.peek(i).color[0],2)+Math.pow(t[1]-o.peek(i).color[1],2)+Math.pow(t[2]-o.peek(i).color[2],2)))<r||void 0===r)&&(r=e,n=o.peek(i).color);return n},forcebw:function(){var t=this.vboxes;t.sort((function(t,r){return h.naturalOrder(h.sum(t.color),h.sum(r.color))}));var r=t[0].color;r[0]<5&&r[1]<5&&r[2]<5&&(t[0].color=[0,0,0]);var e=t.length-1,n=t[e].color;n[0]>251&&n[1]>251&&n[2]>251&&(t[e].color=[255,255,255])}},{quantize:function(i,u){if(!i.length||u<2||u>256)return!1;var a=function(r){var e,n=new Array(32768);return r.forEach((function(r){e=t(r[0]>>3,r[1]>>3,r[2]>>3),n[e]=(n[e]||0)+1})),n}(i);a.forEach((function(){}));var s=function(t,r){var n,o,i,u=1e6,a=0,s=1e6,c=0,h=1e6,l=0;return t.forEach((function(t){(n=t[0]>>3)<u?u=n:n>a&&(a=n),(o=t[1]>>3)<s?s=o:o>c&&(c=o),(i=t[2]>>3)<h?h=i:i>l&&(l=i)})),new e(u,a,s,c,h,l,r)}(i,a),c=new r((function(t,r){return h.naturalOrder(t.count(),r.count())}));function l(t,r){for(var e,n=t.size(),i=0;i<1e3;){if(n>=r)return;if(i++>1e3)return;if((e=t.pop()).count()){var u=o(a,e),s=u[0],c=u[1];if(!s)return;t.push(s),c&&(t.push(c),n++)}else t.push(e),i++}}c.push(s),l(c,.75*u);for(var f=new r((function(t,r){return h.naturalOrder(t.count()*t.volume(),r.count()*r.volume())}));c.size();)f.push(c.pop());l(f,u);for(var v=new n;f.size();)v.push(f.pop());return v}}}().quantize,f=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};f.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var v=function(){};v.prototype.getColor=function(t,r){return void 0===r&&(r=10),this.getPalette(t,5,r)[0]},v.prototype.getPalette=function(t,r,e){var n=function(t){var r=t.colorCount,e=t.quality;if(void 0!==r&&Number.isInteger(r)){if(1===r)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");r=Math.max(r,2),r=Math.min(r,20)}else r=10;return(void 0===e||!Number.isInteger(e)||e<1)&&(e=10),{colorCount:r,quality:e}}({colorCount:r,quality:e}),o=new f(t),i=function(t,r,e){for(var n=t,o=[],i=0,u=void 0,a=void 0,s=void 0,c=void 0,h=void 0;i<r;i+=e)a=n[0+(u=4*i)],s=n[u+1],c=n[u+2],(void 0===(h=n[u+3])||h>=125)&&(a>250&&s>250&&c>250||o.push([a,s,c]));return o}(o.getImageData().data,o.width*o.height,n.quality),u=l(i,n.colorCount);return u?u.palette():null},v.prototype.getColorFromUrl=function(t,r,e){var n=this,o=document.createElement("img");o.addEventListener("load",(function(){var i=n.getPalette(o,5,e);r(i[0],t)})),o.src=t},v.prototype.getImageData=function(t,r){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var e=new Array(i),n=0;n<t.length;n++)e[n]=String.fromCharCode(t[n]);var o=e.join(""),u=window.btoa(o);r("data:image/png;base64,"+u)}},e.send()},v.prototype.getColorAsync=function(t,r,e){var n=this;this.getImageData(t,(function(t){var o=document.createElement("img");o.addEventListener("load",(function(){var t=n.getPalette(o,5,e);r(t[0],this)})),o.src=t}))};var d=v,g=function(t){var r=t.children;return(0,n.jsx)("section",{className:"w-full h-screen overflow-hidden text-black bg-white",children:r})},p=function(){return(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full overflow-hidden rounded-full shadow-[0_0_25px_5px_rgba(0,0,0,0.5)] bg-gradient-to-tl from-black via-black/80 to-black animate-spin-slow ",children:(0,n.jsx)("div",{className:"w-1/3 min-w-[50px] min-h-[50px] bg-blue-400 border-2 border-white border-dashed rounded-full h-1/3 flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-2 h-2 bg-black rounded-full"})})})},m=function(){var t=(0,c.useRef)(null),r=((0,c.useRef)(null),(0,c.useState)(["",""])),e=r[0],o=r[1];(0,c.useEffect)((function(){if(t.current){var r=t.current.getElementsByTagName("img")[1];if(r.complete&&!e[0]){var n=(new d).getPalette(r,2);n&&o(n.map((function(t){return"#".concat(t.map((function(t){return t.toString(16)})).join(""))})))}}})),console.log(e);var i="from-[".concat(e[0],"] to-[").concat(e[1],"]");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u(),{children:(0,n.jsx)("title",{children:"music"})}),(0,n.jsx)("div",{ref:t,children:(0,n.jsx)(g,{children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"relative flex items-center justify-center h-full  bg-gradient-to-r  ".concat(e[0]&&i," active"),children:(0,n.jsxs)("div",{className:"relative md:w-[400px] md:h-[400px] w-[250px] h-[250px] box-border group",children:[(0,n.jsx)("div",{className:"absolute z-10 ",children:(0,n.jsx)(s(),{src:"/assets/image/ch2/music/iu_0.jpg",height:400,width:400,className:"img"})}),(0,n.jsx)("div",{className:"absolute w-full h-full duration-300 group-hover:translate-x-[60%] translate-x-[45%]",children:(0,n.jsx)(p,{})})]})})})})})]})}}},function(t){t.O(0,[675,774,888,179],(function(){return r=7661,t(t.s=r);var r}));var r=t.O();_N_E=r}]);